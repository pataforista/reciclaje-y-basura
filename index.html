<!DOCTYPE html>
<html lang="es-MX">

<head>
  <meta charset="UTF-8" />
  <title>Basura CDMX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1b5e20" />
  <meta name="description" content="Gu√≠a dom√©stica para separar residuos en CDMX. Funciona offline." />
  <link rel="apple-touch-icon" href="icons/apple-touch-icon-180.png" />

  <!-- iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Side Menu Overlay -->
  <div id="sideMenuBackdrop" class="backdrop hidden"></div>
  <div id="sideMenu" class="side-menu hidden">
    <div class="menu-header">
      <h2>Consejos R√°pidos</h2>
      <button id="closeMenuBtn" class="close-btn" onclick="toggleMenu(false)">√ó</button>
    </div>
    <div id="sideMenuContent" class="menu-content">
      <!-- Dynamic Content -->
    </div>
  </div>

  <header>
    <div style="display:flex; align-items:center;">
      <button id="homeBtn" class="home-btn" onclick="homeView()" aria-label="Ir a Inicio">üè†</button>
      <div>
        <h1 id="appTitle" style="cursor:pointer;" onclick="homeView()">Basura CDMX</h1>
        <p class="subtitle">Gu√≠a dom√©stica ¬∑ Offline</p>
      </div>
    </div>
  </header>

  <nav>
    <button data-cat="organicos" class="btn green">Org√°nicos</button>
    <button data-cat="reciclables" class="btn gray">Reciclables</button>
    <button data-cat="no_reciclables" class="btn orange">No reciclables</button>
    <button data-cat="manejo_especial" class="btn blue">Manejo Especial</button>
  </nav>

  <section class="search">
    <input type="text" id="searchInput" placeholder="Buscar residuo (ej. t√©, perro, PET)" aria-label="Buscar residuo"
      autocomplete="off" />
  </section>

  <main id="content">
    <p class="hint">Selecciona una categor√≠a o usa el buscador.</p>
  </main>

  <section class="disclaimer-section"
    style="background: rgba(0,0,0,0.03); padding: 1.5rem; margin: 2rem 1rem; border-radius: 16px; font-size: 0.85rem; color: #555;">
    <h3 style="margin-top:0; font-size: 1rem; color: #333;">üèõÔ∏è Fuentes y Aviso Legal</h3>
    <p>Esta aplicaci√≥n es una herramienta informativa <strong>independiente</strong>. No es una aplicaci√≥n oficial del
      Gobierno de la Ciudad de M√©xico.</p>
    <p>La informaci√≥n se basa en fuentes p√∫blicas de SEDEMA y programas ambientales oficiales:</p>
    <ul style="padding-left: 1.2rem; line-height: 1.6;">
      <li><a href="https://www.sedema.cdmx.gob.mx/" target="_blank" style="color: #2e7d32;">SEDEMA CDMX</a></li>
      <li><a href="https://www.sedema.cdmx.gob.mx/programas/programa/basura-cero" target="_blank"
          style="color: #2e7d32;">Programa Basura Cero</a></li>
      <li><a href="https://www.sedema.cdmx.gob.mx/servicios/servicio/separacion-de-residuos" target="_blank"
          style="color: #2e7d32;">Separaci√≥n de Residuos</a></li>
    </ul>
    <p style="margin-bottom: 0;"><em>Basura CDMX no representa ni est√° afiliada al Gobierno de la Ciudad de M√©xico.</em>
    </p>
  </section>

  <footer>
    <p>CDMX ¬∑ Gu√≠a dom√©stica ¬∑ Funciona sin internet</p>
    <div style="margin: 0.5rem 0; font-size: 0.8rem;">
      <a href="https://drive.google.com/file/d/1t9ydFtP3EW5bJ_854hU_1lR-pfMTbV54/view?usp=sharing" target="_blank"
        style="color: #666; text-decoration: underline;">Pol√≠tica de Privacidad</a>
    </div>
    <div style="margin-top: 0.5rem;">
      <a href="mailto:miniappsminisoluciones@gmail.com?subject=Soporte%20Basura%20CDMX"
        style="color: #666; text-decoration: none; font-size: 0.75rem;">Soporte: miniappsminisoluciones@gmail.com</a>
    </div>
  </footer>

  <!-- App -->
  <script src="app.js"></script>

  <!-- Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", async () => {
        try {
          await navigator.serviceWorker.register("sw.js", { scope: "./" });
          console.log("SW registrado ‚úÖ");
        } catch (e) {
          console.warn("SW no pudo registrarse", e);
        }
      });
    }
  </script>

</body>

</html>